<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title>Last Night</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="style.css">

    <!-- fonts -->

    <!--
    /**
    * @license
    * MyFonts Webfont Build ID 200963
    * 
    * The fonts listed in this notice are subject to the End User License
    * Agreement(s) entered into by the website owner. All other parties are 
    * explicitly restricted from using the Licensed Webfonts(s).
    * 
    * You may obtain a valid license from one of MyFonts official sites.
    * http://www.fonts.com
    * http://www.myfonts.com
    * http://www.linotype.com
    *
    */
    -->
    <link rel="preload" as="font" href="fonts/PalmerLakePrint-Regular/font.woff2" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" as="font" href="fonts/PalmerLakePrint-Regular/font.woff" type="font/woff" crossorigin="anonymous">

    <link rel="preload" as="font" href="fonts/feijoa/Feijoa_Medium.woff2" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" as="font" href="fonts/feijoa/Feijoa_Medium.woff" type="font/woff" crossorigin="anonymous">

    <!-- icons -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
</head>

<body id="front-body">

  <div class="above">

      <div class="nav-container">
        <h2><a href="exhibit.html">Exhibit</a></h2>
        <h2><a href="about.html">About</a></h2>
      </div>

      <div class="above-graphics">
        <div id="title-illustration">
          <img id="title-gif" src="" alt="Last Night animated title graphic">
        </div>
        <div class="down-arrow">
          <div class="arrow bounce">
            <a class="fa fa-arrow-down fa-2x" href="#enter"></a>
          </div>
        </div>
      </div>
  </div>

    <div class="below" id="enter">

      <div id="title-container" class="below-section">
        <div id="main-title">
          <h1>Last Night</h1>
        </div>
        <div id="subtitle">
          <h3>A chooseable-path story about hookups, relationships, and the college experience.</h3>
          <div id="by-line">
            <div><p>by Kris Blackmore</p></div>
            <div><p><a href="https://midgray.com/">A Midgray Project</a></p></div>
          </div>
        </div>
      </div>

      <div class="below-section">
          <a href="story.html"><button type="button" id="play-button">Play</button></a>
      </div>
      <div class="below-section">
          <p id="note">Last Night is a work of interactive fiction. It takes approximately 90 minutes to discover each possible ending. It contains references to the consumption of drugs and alochol, and descriptions of sexual situations. <br><br> It is best experienced in the Chrome browser.</p>
      </div>
  </div>

<script>
  document.getElementById('title-gif').src = "media/last-night.gif"+"?a="+Math.random();

  // Vanilla JavaScript Scroll to Anchor
// @ https://perishablepress.com/vanilla-javascript-scroll-anchor/

(function() {
	scrollTo();
})();

function scrollTo() {
	var links = document.getElementsByTagName('a');
	for (var i = 0; i < links.length; i++) {
		var link = links[i];
		if ((link.href && link.href.indexOf('#') != -1) && ((link.pathname == location.pathname) || ('/' + link.pathname == location.pathname)) && (link.search == location.search)) {
			link.onclick = scrollAnchors;
		}
	}
}

function scrollAnchors(e, respond = null) {
	const distanceToTop = el => Math.floor(el.getBoundingClientRect().top);
	e.preventDefault();
	var targetID = (respond) ? respond.getAttribute('href') : this.getAttribute('href');
	const targetAnchor = document.querySelector(targetID);
	if (!targetAnchor) return;
	const originalTop = distanceToTop(targetAnchor);
	window.scrollBy({ top: originalTop, left: 0, behavior: 'smooth' });
	const checkIfDone = setInterval(function() {
		const atBottom = window.innerHeight + window.pageYOffset >= document.body.offsetHeight - 2;
		if (distanceToTop(targetAnchor) === 0 || atBottom) {
			targetAnchor.tabIndex = '-1';
			targetAnchor.focus();
			window.history.pushState('', '', targetID);
			clearInterval(checkIfDone);
		}
	}, 100);
}
</script>

</body>
</html>
